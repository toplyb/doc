<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git 文档 | 小生</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/doc/logo.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/doc/assets/css/0.styles.34624a27.css" as="style"><link rel="preload" href="/doc/assets/js/app.55c3453d.js" as="script"><link rel="preload" href="/doc/assets/js/8.d24c0c19.js" as="script"><link rel="preload" href="/doc/assets/js/2.4bf1ef1c.js" as="script"><link rel="preload" href="/doc/assets/js/4.19992335.js" as="script"><link rel="preload" href="/doc/assets/js/9.bc51a707.js" as="script"><link rel="preload" href="/doc/assets/js/6.c61f64ae.js" as="script"><link rel="prefetch" href="/doc/assets/js/10.1794dce1.js"><link rel="prefetch" href="/doc/assets/js/11.7348ce53.js"><link rel="prefetch" href="/doc/assets/js/12.bde949e0.js"><link rel="prefetch" href="/doc/assets/js/13.e44e77f0.js"><link rel="prefetch" href="/doc/assets/js/14.2c096876.js"><link rel="prefetch" href="/doc/assets/js/15.04b1a976.js"><link rel="prefetch" href="/doc/assets/js/16.32759b05.js"><link rel="prefetch" href="/doc/assets/js/17.dbb60c8f.js"><link rel="prefetch" href="/doc/assets/js/18.03b80077.js"><link rel="prefetch" href="/doc/assets/js/19.eee1f2ca.js"><link rel="prefetch" href="/doc/assets/js/20.1eaa80af.js"><link rel="prefetch" href="/doc/assets/js/21.9922b078.js"><link rel="prefetch" href="/doc/assets/js/22.fd29b56c.js"><link rel="prefetch" href="/doc/assets/js/23.c58c98d5.js"><link rel="prefetch" href="/doc/assets/js/24.9c29ce1a.js"><link rel="prefetch" href="/doc/assets/js/25.ef46ee1e.js"><link rel="prefetch" href="/doc/assets/js/26.de496641.js"><link rel="prefetch" href="/doc/assets/js/27.da13abd9.js"><link rel="prefetch" href="/doc/assets/js/28.8c08f760.js"><link rel="prefetch" href="/doc/assets/js/29.6b20f3e7.js"><link rel="prefetch" href="/doc/assets/js/3.c59aa37e.js"><link rel="prefetch" href="/doc/assets/js/30.00daa87a.js"><link rel="prefetch" href="/doc/assets/js/31.1a7af06c.js"><link rel="prefetch" href="/doc/assets/js/32.e084e021.js"><link rel="prefetch" href="/doc/assets/js/33.8bd451b2.js"><link rel="prefetch" href="/doc/assets/js/34.449773cb.js"><link rel="prefetch" href="/doc/assets/js/35.515c6ca2.js"><link rel="prefetch" href="/doc/assets/js/36.01dfb55c.js"><link rel="prefetch" href="/doc/assets/js/37.a151c847.js"><link rel="prefetch" href="/doc/assets/js/38.d16ad425.js"><link rel="prefetch" href="/doc/assets/js/39.7189ae83.js"><link rel="prefetch" href="/doc/assets/js/40.1cb90e67.js"><link rel="prefetch" href="/doc/assets/js/41.924dc209.js"><link rel="prefetch" href="/doc/assets/js/42.af790c99.js"><link rel="prefetch" href="/doc/assets/js/43.e5884d54.js"><link rel="prefetch" href="/doc/assets/js/44.90020ef6.js"><link rel="prefetch" href="/doc/assets/js/45.613008c6.js"><link rel="prefetch" href="/doc/assets/js/46.6d19b814.js"><link rel="prefetch" href="/doc/assets/js/47.1d222ad8.js"><link rel="prefetch" href="/doc/assets/js/48.3020d496.js"><link rel="prefetch" href="/doc/assets/js/49.bc8d356a.js"><link rel="prefetch" href="/doc/assets/js/5.33fdb9ae.js"><link rel="prefetch" href="/doc/assets/js/50.2f24196f.js"><link rel="prefetch" href="/doc/assets/js/51.5f6b8b01.js"><link rel="prefetch" href="/doc/assets/js/52.cefb2c54.js"><link rel="prefetch" href="/doc/assets/js/53.8d54f4d2.js"><link rel="prefetch" href="/doc/assets/js/54.1a147765.js"><link rel="prefetch" href="/doc/assets/js/55.69bfd5dd.js"><link rel="prefetch" href="/doc/assets/js/56.5d4e614b.js"><link rel="prefetch" href="/doc/assets/js/57.c56b767f.js"><link rel="prefetch" href="/doc/assets/js/58.8475b38c.js"><link rel="prefetch" href="/doc/assets/js/59.f9d5d857.js"><link rel="prefetch" href="/doc/assets/js/60.72ae68d4.js"><link rel="prefetch" href="/doc/assets/js/61.c53a14d3.js"><link rel="prefetch" href="/doc/assets/js/62.2a29bf4e.js"><link rel="prefetch" href="/doc/assets/js/63.a965d548.js"><link rel="prefetch" href="/doc/assets/js/64.579fdc70.js"><link rel="prefetch" href="/doc/assets/js/65.e99f89c9.js"><link rel="prefetch" href="/doc/assets/js/66.a72528e3.js"><link rel="prefetch" href="/doc/assets/js/67.34c55aa2.js"><link rel="prefetch" href="/doc/assets/js/68.14388340.js"><link rel="prefetch" href="/doc/assets/js/69.e716df3c.js"><link rel="prefetch" href="/doc/assets/js/7.ce3d703b.js"><link rel="prefetch" href="/doc/assets/js/70.924cae61.js"><link rel="prefetch" href="/doc/assets/js/71.86436255.js"><link rel="prefetch" href="/doc/assets/js/72.2132e257.js"><link rel="prefetch" href="/doc/assets/js/73.e7f5742d.js">
    <link rel="stylesheet" href="/doc/assets/css/0.styles.34624a27.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/doc/" class="home-link router-link-active"><img src="/doc/logo.jpg" alt="小生" class="logo"> <span class="site-name can-hide">小生</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc/vue/" class="nav-link">
  Vue3
</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/doc/typescript/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/doc/server/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/doc/echarts/" class="nav-link">
  ECharts
</a></div><div class="nav-item"><a href="/doc/tools/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  相关工具
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doc/vue/" class="nav-link">
  Vue3
</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/doc/typescript/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/doc/server/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/doc/echarts/" class="nav-link">
  ECharts
</a></div><div class="nav-item"><a href="/doc/tools/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  相关工具
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Git</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/doc/tools/" aria-current="page" class="active sidebar-link">Git 文档</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/tools/#svn相对git来说的弊端" class="sidebar-link">SVN相对Git来说的弊端</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#git起步" class="sidebar-link">Git起步</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#生成-ssh-key" class="sidebar-link">生成 ssh key</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#git-基本操作流程" class="sidebar-link">Git 基本操作流程</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#git命令详解" class="sidebar-link">Git命令详解</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#分支" class="sidebar-link">分支</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#变基" class="sidebar-link">变基</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#删除" class="sidebar-link">删除</a></li><li class="sidebar-sub-header"><a href="/doc/tools/#强推" class="sidebar-link">强推</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="svn相对git来说的弊端"><a href="#svn相对git来说的弊端" class="header-anchor">#</a> SVN相对Git来说的弊端</h2> <p><code>Git</code> 是分布式版本控制系统, 而 <code>SVN</code> 是集中化版本控制系统,这种系统带来的弊端有 :</p> <ul><li>中央服务器如果出问题的话, 那么在此期间所有人都无法提交更新,因为 SVN<code>的所有操作都需要和中央服务器交互. 而</code>Git <code>是每个开发者都在本地有一个</code>git 仓库, 这个仓库中有整个项目的变更历史</li> <li>如果磁盘出问题, 那么整个项目的变更历史都将不存在</li> <li>克隆项目的时候很慢</li> <li><code>Git</code> 可以在本地查看项目的整个历史, 但是 <code>SVN</code> 必须要连接中央服务器才能刚查看</li></ul> <h2 id="git起步"><a href="#git起步" class="header-anchor">#</a> Git起步</h2> <h3 id="git-安装"><a href="#git-安装" class="header-anchor">#</a> Git 安装</h3> <ul><li><code>yum install git</code></li></ul> <h3 id="git-文件的三种状态"><a href="#git-文件的三种状态" class="header-anchor">#</a> <code>Git</code> 文件的三种状态</h3> <ol><li>已修改 : 表示本地文件已修改, 但是还没有保存到本地版本库中 (工作区)</li> <li>已暂存 : 表示对本地已经修改过的文件做了一个标记, 使之包含在下次的提交中 (暂存区)</li> <li>已提交 : 表示文件已成功保存到本地版本库 (Git仓库目录)</li></ol> <h3 id="git-配置"><a href="#git-配置" class="header-anchor">#</a> <code>Git</code> 配置</h3> <ul><li><p>查看所有的配置以及配置所在的文件 :</p> <p><code>git config --list --show-origin</code></p></li></ul> <div class="imgWrapper" data-v-07228763><img src="/doc/assets/img/image-20201018184733783.24b031f0.png" data-v-07228763></div> <p><code>git config --list</code> 查看所有的配置信息
<div class="imgWrapper" data-v-07228763><img src="/doc/assets/img/image-20201018185012278.0cd59337.png" data-v-07228763></div></p> <ul><li><p>配置用户名和邮箱</p> <p><code>git config --global user.name 'xiaosheng'</code></p> <p><code>git config --global user.email '1029739052@qq.com'</code></p> <ul><li>用户名有可能会重复,以最后一个为准</li></ul></li></ul> <h2 id="生成-ssh-key"><a href="#生成-ssh-key" class="header-anchor">#</a> 生成 ssh key</h2> <ul><li><code>ssh-keygen -o</code></li></ul> <h2 id="git-基本操作流程"><a href="#git-基本操作流程" class="header-anchor">#</a> Git 基本操作流程</h2> <h4 id="克隆现有的仓库"><a href="#克隆现有的仓库" class="header-anchor">#</a> 克隆现有的仓库</h4> <p><code>git clone https://gitee.com/yifengketang/ThinkPHP6UniApp.git</code></p> <ul><li>克隆的时候, 会将仓库的分支都克隆下来, 但是当使用 <code>git branch</code> 的时候并不会显示, 但是此时仍然可以切换到仓库中存在的其他分支中</li></ul> <h4 id="初始化仓库"><a href="#初始化仓库" class="header-anchor">#</a> 初始化仓库</h4> <ol><li><p>初始化仓库</p> <p><code>git init</code></p></li> <li><p>查看当前文件状态</p> <p><code>git status</code></p></li> <li><p>跟踪文件 (添加到暂存区)</p> <p><code>git add index.php</code>  添加某个单独的文件</p> <p><code>git add .</code> 添加所有的文件</p></li> <li><p>提交更改</p> <p><code>git commit -m 'add index.php'</code></p></li> <li><p>推到远程服务器</p> <p><code>git push origin xiaosheng</code> 将本地 <code>xiaosheng</code> 分支推送到远程名为 <code>origin</code> 的仓库中</p> <ul><li>这样当下次其他人从远程仓库拉取代码的时候, 他们就会在本地生成一个远程分支 <code>origin/xiaosheng</code>, 指向服务器的 <code>xiaosheng</code> 分支</li></ul></li></ol> <h2 id="git命令详解"><a href="#git命令详解" class="header-anchor">#</a> Git命令详解</h2> <h3 id="gitignore文件"><a href="#gitignore文件" class="header-anchor">#</a> <code>.gitignore</code>文件</h3> <ul><li><p>忽略提交指定的文件</p></li> <li><p>规范如下 :</p> <ul><li><p>以 / 开头防止递归</p></li> <li><p>以 / 结尾指定具体目录</p></li> <li><p><code>.env</code> 只忽略当前目录下的 <code>.env</code>文件</p></li> <li><p><code>/storage/</code> 忽略当前目录下的 <code>storage</code> 目录</p></li></ul></li></ul> <h3 id="git-diff"><a href="#git-diff" class="header-anchor">#</a> <code>git diff</code></h3> <ul><li><p>查看已暂存的和未暂存的修改</p></li> <li><p><code>git diff</code> 查看已经修改了但是并没有加入暂存区的文件中修改的内容, 可以用来比较工作区的当前文件和暂存区之间的差异</p></li> <li><p><code>git diff --staged</code> 或者 <code>git diff --cached</code>  查看已经暂存的将要添加到下次提交的内容, 可以用来比较暂存区和最后一次提交之间的差异</p></li></ul> <h3 id="移除文件"><a href="#移除文件" class="header-anchor">#</a> 移除文件</h3> <ul><li>如果使用  <code>rm</code> 删除文件的话, 此时 <code>Git</code> 仍然在跟踪着, 下次提交的时候仍然会纳入版本库, 此时可以使用 <code>git rm 文件名</code> 来删除</li> <li><code>git rm -f 文件名</code> 删除之前已经修改的或者已经放到暂存区的</li> <li><code>git rm --cached 文件名或者目录名</code> 从 <code>Git</code> 仓库中移除 (不让 <code>Git</code> 追踪), 但是本地仍然有此文件 (比如缓存文件一开始忘记添加在 <code>.gitignore</code> 文件中的时候, 可以使用这种方式将缓存文件从 <code>Git</code> 仓库中删除)</li></ul> <hr> <h3 id="移动文件"><a href="#移动文件" class="header-anchor">#</a> 移动文件</h3> <ul><li><p><code>git mv 旧文件名 新文件名</code> 可以用来移动文件或者重命名文件</p> <ul><li><p>以上命令相当于运行了下面三个命令 :</p> <p><code>mv 旧文件名 新文件名</code></p> <p><code>git rm 旧文件名</code></p> <p><code>git add 新文件名</code></p></li></ul></li></ul> <hr> <h3 id="git-log"><a href="#git-log" class="header-anchor">#</a> <code>git log</code></h3> <ul><li><p><code>git log</code> 查看提交历史</p></li> <li><p>没有任何参数的时候, <code>git log</code> 会按照时间顺序显示所有的提交, 最新的在最上面</p></li> <li><p><code>git log -p</code> 或者 <code>git log --patch</code>  查看更加详细的提交历史</p></li> <li><p><code>git log -n</code> 显示最新的n条记录</p> <ul><li><p><code>git log -1</code></p></li> <li><p><code>git log -n</code> 可以和 <code>git log --patch</code> 联合使用 :</p> <ul><li><code>git log -p -1</code></li></ul></li></ul></li> <li><p><code>git log --stat</code> 查看提交的稍微详细的信息</p></li> <li><p><code>git log --pretty</code></p> <ul><li><p><code>git log --pretty=oneline</code> 可以用于查看有大量的提交信息的时候</p></li> <li><p><code>git log --pretty=oneline --graph</code> 分支多的时候可以形象的展示分支以及分支的合并</p></li> <li><p><code>git log --oneline --decorate</code> 查看各个分支当前所指的对象</p></li></ul></li> <li><p><code>git log --author</code> 查看某位作者的提交</p></li></ul> <hr> <h3 id="撤销操作"><a href="#撤销操作" class="header-anchor">#</a> 撤销操作</h3> <ul><li><p>当提交完成后,发现有些文件没有添加,如 :</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> commit -m <span class="token string">'add some files'</span>
<span class="token comment"># 如忘记添加1.txt,可以进行如下操作</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token number">1</span>.txt
<span class="token function">git</span> commit --amend  <span class="token comment"># 这样就只会有一个提交</span>
</code></pre></div></li> <li><p>取消暂存的文件</p> <ul><li><p>如已经暂存了 <code>1.txt</code> 文件, 可以使用如下命令取消暂存 :</p> <p><code>git reset HEAD 1.txt</code> 这个命令是比较危险的</p></li> <li><p><code>git reset HEAD</code> 撤销最近的一次 add 操作 (取消所有的暂存)</p></li></ul></li> <li><p>撤销对文件的修改</p> <ul><li><p>当对本地文件进行修改了, 还没有添加到暂存区, 此时想要回到修改之前的状态, 命令如下 :</p> <p><code>git checkout --1.txt</code></p> <p><code>git checkout .</code></p></li> <li><p>当对本地文件进行了修改, 并且已经添加到暂存区了, 此时想要回到修改之前的状态, 命令如下 :</p> <p><code>git reset HEAD</code></p> <p><code>git checkout .</code></p></li> <li><p>当对本地文件进行了修改, 并且已经使用 <code>commit</code> 提交了, 此时想要回到没有提交之前并且没有修改的状态, 命令如下 :</p> <p><code>git reset --soft HEAD^</code> 回退到 <code>commit</code> 之前, 此时的修改已经添加到暂存区</p> <p><code>git reset HEAD</code> 从暂存区中删除</p> <p><code>git checkout .</code> 即可回到提交之前的状态</p></li></ul></li> <li><p>回到指定版本</p> <ul><li><p>方法1 :</p> <p><code>git log</code> 查看想要回到的版本, 复制版本号</p> <p><code>git reset --hard 版本号</code> 即可 (<strong>注意 : 使用该命令, 回到指定版本后, 该版本后面的提交也就都找不到了</strong>)</p> <ul><li>如果使用了上面的命令后, 在 <code>git log</code> 中查看不到后面版本的提交记录, 但是可以使用 <code>git reflog</code> 来查看</li> <li>然后仍然可以使用 <code>git reset --hard 版本号</code> 来回滚</li></ul></li> <li><p>方法2 :</p> <p><code>git revert HEAD</code> 回到最近一次提交之前的版本 (比如 : 修改文件并提交了之后, 想要回到这次提交修改之前的样子, 则可以用此命令, 此命令会将本次 <code>revert</code> 操作也看作是一次提交, 并且需要输入提交的备注信息)</p> <ul><li><code>git revert -n 版本号</code> 回到指定版本 (使用 <code>revert</code> 回到指定版本的话, 该版本后面的提交仍然存在)</li></ul></li></ul></li></ul> <hr> <h3 id="远程仓库-分支"><a href="#远程仓库-分支" class="header-anchor">#</a> 远程仓库 / 分支</h3> <ul><li><p><code>git remote -v</code> 查看远程仓库</p></li> <li><p><code>git remote show origin</code> 查看某一个远程仓库的具体信息</p></li> <li><p>添加远程仓库</p> <p><code>git remote add 别名 地址</code></p></li> <li><p>重命名远程仓库</p> <p><code>git remote rename 旧名字 新名字</code></p></li> <li><p>删除某个远程仓库</p> <p><code>git remote remove 名字</code></p></li> <li><p>拉取远程仓库的代码</p> <ul><li><code>git fetch 远程仓库的别名</code> 此时会拉取远程仓库中的代码 (是本地没有的, 本地有的不会拉取), 此命令只是拉取, 并不会把拉下来的代码合并到本地分支</li> <li><code>git pull 远程仓库的别名</code>  此命令会拉取远程仓库的代码并自动尝试合并到当前分支中</li></ul></li> <li><p>推送到远程仓库</p> <p><code>git push origin master</code> 将本地 master 分支的代码推送到 origin 主机的 master 分支, 如果 master 分支不存在, 则会自动新建</p> <p><code>git push origin master:xiaosheng</code> 将本地的 master 分支的代码推送到 origin 远程主机中的 xiaosheng 分支, 如果 xiaosheng 分支不存在, 那么将会自动在远程创建 xiaosheng 分支</p></li> <li><p>跟踪远程指定分支</p> <p><code>git checkout --track origin/xiaosheng</code> 跟踪远程 <code>origin</code> 仓库中的 <code>xiaosheng</code> 分支</p></li> <li><p>将本地分支和远程分支设置为不同的名字</p> <p><code>git checkout -b test origin/xiaosheng</code></p></li> <li><p>查看本地分支与远程分支的关系</p> <p><code>git branch -vv</code></p></li> <li><p>删除远程分支</p> <p><code>git push origin --delete xiaosheng</code></p></li></ul> <h3 id="git-pull"><a href="#git-pull" class="header-anchor">#</a> <code>git pull</code></h3> <ul><li><p>拉取指定分支代码</p> <p><code>git pull origin 远程分支</code></p> <p><code>git pull origin 远程分支:本地分支</code></p></li> <li><p>强行覆盖本地代码</p> <p><code>git fetch --all</code></p> <p><code>git reset --hard origin/master</code></p> <p><code>git pull</code></p></li></ul> <hr> <h2 id="分支"><a href="#分支" class="header-anchor">#</a> 分支</h2> <h3 id="创建分支"><a href="#创建分支" class="header-anchor">#</a> 创建分支</h3> <ul><li><p><code>git branch 分支名</code> 创建后并不会进入到新分支,仍然停留在当前分支</p></li> <li><p><code>git checkout -b 分支名</code> 创建一个新分支并切换到新分支</p></li> <li><p><code>git log --oneline --decorate</code> 查看各个分支当前所指的对象</p></li></ul> <h3 id="删除分支"><a href="#删除分支" class="header-anchor">#</a> 删除分支</h3> <ul><li><code>git branch -d 分支名</code></li></ul> <h3 id="查看分支"><a href="#查看分支" class="header-anchor">#</a> 查看分支</h3> <ul><li><p><code>git branch</code></p> <ul><li><code>*</code> 表示当前所处的分支</li></ul></li> <li><p><code>git branch -v</code> 查看每一个分支最后一次的提交</p></li> <li><p><code>git branch --merged</code> 查看有哪些分支合并到了当前的分支
<div class="imgWrapper" data-v-07228763><img src="/doc/assets/img/image-20201019222709162.68642691.png" data-v-07228763></div></p> <ul><li><p>上图所显示的是已经将 <code>test41</code> 分支合并到 <code>test4</code> 分支后, 使用 <code>git branch --merged</code> 后查看到的结果</p></li> <li><p>当把 <code>test41</code> 分支删除后, 则如下图所示 :
<div class="imgWrapper" data-v-07228763><img src="/doc/assets/img/image-20201019222910646.830b053a.png" data-v-07228763></div></p></li></ul></li></ul> <h3 id="分支切换"><a href="#分支切换" class="header-anchor">#</a> 分支切换</h3> <ul><li><code>git checkout 分支名</code></li></ul> <h3 id="分支真的很厉害"><a href="#分支真的很厉害" class="header-anchor">#</a> 分支真的很厉害</h3> <ul><li><p>(感觉有点类似于双系统), 如下 :
<div class="imgWrapper" data-v-07228763><img src="/doc/assets/img/image-20201018232651444.2f83fffd.png" data-v-07228763></div></p></li> <li><p>如上所示, 处于同一个文件夹下, 只不过是不同的分支, 就可以展示出不同的内容</p></li> <li><p><code>test4</code> 分支中新增了 <code>test.php</code> 文件, 当进行 <code>add</code> 和 <code>commit</code> 操作之后, 在其他分支就看不到了, 如果没有进行 <code>commit</code> 操作,那么在其他分支中仍然可以看到</p></li></ul> <h3 id="项目分叉历史"><a href="#项目分叉历史" class="header-anchor">#</a> 项目分叉历史</h3> <ul><li><code>git log --oneline --decorate --graph --all</code></li></ul> <h3 id="合并分支"><a href="#合并分支" class="header-anchor">#</a> 合并分支</h3> <ul><li><p><code>git merge 要合并的分支名</code></p> <ul><li><p>例 : 要把 <code>test1</code> 分支合并到 <code>master</code> 分支中, 操作步骤如下 :</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> checkout master
<span class="token function">git</span> merge test1
<span class="token function">git</span> branch -d test1 <span class="token comment"># test1 分支已经合并到master分支, 如果没有作用的话则可以删除</span>
</code></pre></div><ul><li><p>合并的时候会发生冲突 :</p> <ul><li><p>当在不同的分支对同一个文件进行了修改后, 当合并这两个分支的时候就会发生冲突, 发生冲突后 <code>Git</code> 会在有冲突的文件中给出如下的提示 :</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;</span> HEAD:index.html
<span class="token operator">&lt;</span>div <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>contact <span class="token builtin class-name">:</span> email.support@github.com<span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&lt;</span>div <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
 please contact us at support@github.com
<span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> iss53:index.html
</code></pre></div></li> <li><p>其中 <code>HEAD</code> 部分的内容表示的是当前所在分支中的内容, ==== 下面的则表示的要合并的分支中的内容</p></li> <li><p>此处的冲突需要自己来选择保留哪一部分的代码</p></li> <li><p>解决完冲突后可以运行 <code>git status</code> 来查看当前的状态, 如果需要跟踪修改的文件的话则跟踪, 否则可以进行提交动作</p></li></ul></li></ul></li></ul></li></ul> <h2 id="变基"><a href="#变基" class="header-anchor">#</a> 变基</h2> <h3 id="合并多次-commit"><a href="#合并多次-commit" class="header-anchor">#</a> 合并多次 <code>commit</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> rebase -i 版本号 <span class="token comment">#合并当前版本号到指定版本号之间的所有记录</span>
<span class="token function">git</span> rebase -i HEAD~3 <span class="token comment">#从当前版本开始合并最近的三次提交记录</span>
</code></pre></div><ul><li>输入上面的合并命令后, 会出来两个 <code>vim</code> 的编辑记录
<ul><li>第一个可以指定将所选择的提交版本合并到哪一个版本号中, 是将需要合并的记录前面的 pick 改成 s, 要合并到的记录不用改变</li> <li>第二个是提交的注释</li></ul></li></ul> <h3 id="解决分叉问题"><a href="#解决分叉问题" class="header-anchor">#</a> 解决分叉问题</h3> <ul><li><p>可以使用 <code>git log --graph</code> 以图形流线的格式显示提交记录, 这样容易观察出来提交记录中的分叉</p></li> <li><p>如下图所示
<div class="imgWrapper" data-v-07228763><img src="/doc/assets/img/image-20210223235909204.51fe0657.png" data-v-07228763></div></p> <ul><li>如果想要把上面红框中的提交记录变成下面的提交记录的样子, 则需要用到变基, 步骤如下:
<ul><li>分为两个分支, dev 和 master, 第一个红框中的第一行是 master 分支, 第二行是 dev 分支</li> <li>先执行 <code>git checkout dev</code></li> <li><code>git rebase master</code>, 将 master 分支中的内容合并到 dev 分支中</li> <li><code>git checkout master</code></li> <li><code>git rebase dev</code></li></ul></li></ul></li></ul> <h3 id="解决-git-pull-会产生分叉问题"><a href="#解决-git-pull-会产生分叉问题" class="header-anchor">#</a> 解决 <code>git pull</code> 会产生分叉问题</h3> <ul><li><code>git pull</code> 相当于 <code>git fetch</code> + <code>git merge</code>, 这样会产生分叉, 解决办法如下:</li> <li>先执行 <code>git fetch origin master 或者 dev</code></li> <li><code>git rebase origin/master 或者 origin/dev</code></li></ul> <hr> <ul><li>使用 <code>git rebase</code> 有的时候会产生冲突, 当报有冲突的时候, 先解决冲突, 然后 <code>git add .</code>, 接着执行 <code>git rebase --continue</code></li></ul> <h2 id="删除"><a href="#删除" class="header-anchor">#</a> 删除</h2> <ul><li>从当前项目中删除文件并且放弃追踪: <code>git rm 文件名</code></li> <li>放弃追踪某个文件但是该文件还留在当前目录: <code>git rm --cached 文件名</code></li></ul> <h2 id="强推"><a href="#强推" class="header-anchor">#</a> 强推</h2> <ul><li><code>git push origin master --force</code></li></ul> <div data-v-3b73143e><ul class="rightMenuWrapper" data-v-3b73143e></ul></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/doc/tools/webpack/">
        核心概念
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/doc/assets/js/app.55c3453d.js" defer></script><script src="/doc/assets/js/8.d24c0c19.js" defer></script><script src="/doc/assets/js/2.4bf1ef1c.js" defer></script><script src="/doc/assets/js/4.19992335.js" defer></script><script src="/doc/assets/js/9.bc51a707.js" defer></script><script src="/doc/assets/js/6.c61f64ae.js" defer></script>
  </body>
</html>
